% project 03
% taylor methods for initial value problem
%
% Args
%   flist       (function)  cell array of function handles for derivatives, 
               in order. e.g., {first derivative, second derivative, ...}
%   rmin        (float)     lower bound
%   rmax        (float)     upper bound
%   tol         (float)     tolerance
%
% Returns
%   val         (float)     val
%   aout        (vector)    vector of subinterval starting points
%   hout        (vector)    vector of subinterval h values
%
function [w, t] = taylor(flist, order, rmin, rmax, N, y0)

    if length(flist) < order
        error("Insufficient derivatives for specified order");
    end
    
    w(i) = y0;

    for i=1:N

        T = 0;
        for j=1:order
            fh = flist{j};
            T = T + (h^(j-1)/factorial(j))*fh(t(i), w(i));
        end

        w(i+1) = w(i) + h * T;

    end

end